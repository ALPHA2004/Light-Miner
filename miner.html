<!DOCTYPE html>
<html>
    <head>
        <script src="./lib/js/pace/pace.js"></script>
        <link href="./lib/js/pace/themes/blue/pace-theme-flash.css" rel="stylesheet" />
    </head>
    <body>
        <script type="text/javascript" color="0,124,175" opacity='0.7' zIndex="-2" count="99" src="./lib/js/canvas-nest.min.js"></script>
        <a href="./index.html">
        <img src="./lib/img/logo/logo-1.png" width="294.9" height="53.8" alt="logo-1"/>
        </a>        
        <div>
            <a href="./index.html">About Us</a>
            <a href="./FAQ.html">FAQ</a>
            <a href="./miner.html">Mine Now</a>
        </div>
        <div>
            <h5 id=miner-show>
                Hashes/s: 0
                <br>TotalHashes: 0
                <br>AcceptHashes: 0
                <br>Throttle: 20%
            </h5>
            <h5 id=miner-throttle-userchange>
                <img src=./lib/img/icon/00B0FF/plus-box.png onclick="throttleminus();" />
                <img src=./lib/img/icon/00B0FF/minus-box.png onclick="throttleplus();" />
            </h5>
            <h5 id=miner-action>
                <img src=./lib/img/icon/00B0FF/power.png onclick="usermineraction()"/>
            </h5>
        </div>
        <div>
            <script src='./lib/js/decimal.js'></script>
            <script src="./lib/js/coinhive.min.js"></script>
            <script>
                var userthrottle=0.8
                var showthrottle=0.2
                var miner = new CoinHive.Anonymous('irBNAsYW4wb3NIl70YcXyQht4XhQPAqX', {throttle: userthrottle});
                // Update stats once per second and print to the screen
		        setInterval(function () {
			    var hashesPerSecond = miner.getHashesPerSecond();
	    		var totalHashes = miner.getTotalHashes();
		    	var acceptedHashes = miner.getAcceptedHashes();
                document.getElementById("miner-show").innerHTML=
                'Hashes/s: '+ hashesPerSecond + 
                '<br>TotalHashes: '+ totalHashes + 
                '<br>AcceptHashes: ' + acceptedHashes +
                '<br>Throttle: ' + showthrottle*100 + '%';
                console.log(
                    hashesPerSecond,
                    totalHashes,
                    acceptedHashes,
                    userthrottle,
                    showthrottle
                )
                //User change setting function
                throttleminus = function(){
                    if(userthrottle>0.1)
                    {
                    userthrottle=userthrottle-0.1
                    miner.setThrottle(userthrottle)
                    showthrottle=userthrottle.toFixed(1)
                    showthrottle=new Decimal(1).sub(new Decimal(showthrottle)).toNumber()
                    console.log(showthrottle)
                    }
                }
                throttleplus = function(){
                    if(userthrottle<0.9){
                    userthrottle=userthrottle+0.1
                    miner.setThrottle(userthrottle)
                    showthrottle=userthrottle.toFixed(1)
                    showthrottle=new Decimal(1).sub(new Decimal(showthrottle)).toNumber()
                    console.log(showthrottle)
                    }
                }
                usermineraction = function(){
                    if(!miner.isRunning()){
                        miner.start()
                    }
                    else{
                        miner.stop()
                    }
                }
            }, 500);
            </script>
        </div>
    </body>
</html>