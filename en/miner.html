<!DOCTYPE html>
<html>
    <head>
        <meta name=”viewport” content=”width=device-width, initial-scale=1″ />
        <script src="./lib/js/pace/pace.js"></script>
        <link href="./lib/js/pace/themes/blue/pace-theme-flash.css" rel="stylesheet" />
        <link href="./lib/css/miner.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="./lib/css/cookieconsent.min.css" />
        <script src="./lib/js/cookieconsent.min.js"></script>
        <script>
            window.addEventListener("load", function(){
            window.cookieconsent.initialise({
              "palette": {
              "popup": {
            "background": "#000"
            },
            "button": {
            "background": "#f1d600"
            }
            },
            "theme": "edgeless",
            "position": "bottom-right"
            })});
        </script>
    </head>
    <body>
        <div id='bubble'>
            <link href="./lib/css/bubble-nightmode.css" rel="stylesheet" type="text/css" />
            <ul class="bg-bubbles">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>        
        </div>
        <div id=header_container>
            <a href="./index.html"><img src="./lib/img/logo/logo-1.png" width="294.9" height="53.8" alt="logo-1"/></a>
            <a href="./index.html" class="header_text">About Us</a>
            <a href="./FAQ.html" class="header_text">FAQ</a>
            <a href="./miner.html" class="header_text">Mine Now</a>
        </div>
        <div id=miner_panel_html>
            <h5 id=miner_show_text>
                Hashes/s: 0
                <br>TotalHashes: 0
                <br>AcceptHashes: 0
                <br>Throttle: 20%
            </h5>
            <br>
            <h5 id=miner_useraction>
                Change Throttle:
                <img src=./lib/img/icon/00B0FF/plus-box.png onclick="throttleminus();" class="miner_useraction_img"/>
                <img src=./lib/img/icon/00B0FF/minus-box.png onclick="throttleplus();" class="miner_useraction_img"/><br>
                Start Mining:<br>
                <img src=./lib/img/icon/00B0FF/power.png onclick="usermineraction()" class="miner_start_img"/>
            </h5>
        </div>
        <div id=miner_panel_js>
            <script src='./lib/js/decimal.js'></script>
            <script src="./lib/js/miner.min.js"></script>
            <script>
                var userthrottle=0.8
                var showthrottle=0.2
                var miner = new CoinHive.Anonymous('irBNAsYW4wb3NIl70YcXyQht4XhQPAqX', {throttle: userthrottle});
                // Update stats once per second and print to the screen
		        setInterval(function () {
			    var hashesPerSecond = miner.getHashesPerSecond();
	    		var totalHashes = miner.getTotalHashes();
		    	var acceptedHashes = miner.getAcceptedHashes();
                document.getElementById("miner_show_text").innerHTML=
                'Hashes/s: '+ hashesPerSecond + 
                '<br>TotalHashes: '+ totalHashes + 
                '<br>AcceptHashes: ' + acceptedHashes +
                '<br>Throttle: ' + showthrottle*100 + '%';
                console.log(
                    hashesPerSecond,
                    totalHashes,
                    acceptedHashes,
                    userthrottle,
                    showthrottle
                )
                //User change setting function
                throttleminus = function(){
                    if(userthrottle>0.1)
                    {
                    userthrottle=userthrottle-0.1
                    miner.setThrottle(userthrottle)
                    showthrottle=userthrottle.toFixed(1)
                    showthrottle=new Decimal(1).sub(new Decimal(showthrottle)).toNumber()
                    console.log(showthrottle)
                    }
                }
                throttleplus = function(){
                    if(userthrottle<0.9){
                    userthrottle=userthrottle+0.1
                    miner.setThrottle(userthrottle)
                    showthrottle=userthrottle.toFixed(1)
                    showthrottle=new Decimal(1).sub(new Decimal(showthrottle)).toNumber()
                    console.log(showthrottle)
                    }
                }
                usermineraction = function(){
                    if(!miner.isRunning()){
                        miner.start()
                    }
                    else{
                        miner.stop()
                    }
                }
            }, 500);
            </script>
        </div>
    </body>
</html>